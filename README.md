# 房屋貸款計算機

一個功能完整的台灣房屋貸款試算工具，支援新青安等多段式利率計算。

🔗 **線上試用**: https://tsesc.github.io/mortgage-calculator/

## 功能特色

### 核心功能
- ✅ **雙輸入模式**：可選擇輸入房屋總價或直接輸入貸款金額
- ✅ **即時計算**：所有欄位變更時自動重新計算，無需按送出按鈕
- ✅ **多段式利率支援**：
  - 新青安貸款（第1-2年 1.775%，第3年起 2.075%）
  - 自訂利率區間
- ✅ **雙還款方式**：
  - 本息平均攤還
  - 本金平均攤還

### 防呆機制
- 數值範圍檢查（貸款成數 0-100%）
- 格式驗證（禁止非數字輸入）
- 邏輯檢查（貸款金額不可超過房屋總價）
- 即時錯誤提示與修正建議

### 政策說明
- 新青安申請資格說明
- 優惠內容比較
- 注意事項提醒
- 最高貸款額度：1000萬元
- 最長貸款年限：40年

## 技術架構

- **框架**：React 18 + TypeScript
- **建構工具**：Vite
- **樣式**：TailwindCSS
- **圖示**：React Icons

## 安裝與執行

### 開發模式
```bash
npm install
npm run dev
```
開啟 http://localhost:5173 查看應用程式

### 建置生產版本
```bash
npm run build
```
建置檔案會在 `dist` 目錄

### 檢查程式碼
```bash
npm run lint
```

## 專案結構

```
src/
├── components/          # UI 元件
│   ├── Calculator/     # 計算機主元件
│   ├── InputFields/    # 輸入欄位元件
│   ├── Results/        # 結果顯示元件
│   └── PolicyInfo/     # 政策說明元件
├── hooks/              # 自訂 Hooks
├── utils/              # 工具函數
│   ├── calculations/   # 貸款計算邏輯
│   └── validations/    # 輸入驗證
├── types/              # TypeScript 型別定義
└── constants/          # 常數定義（利率、政策等）
```

## 計算公式

### 本息平均攤還
```
月付金 = 本金 × [月利率 × (1 + 月利率)^期數] / [(1 + 月利率)^期數 - 1]
```

### 本金平均攤還
```
月付本金 = 本金 / 總期數
月付利息 = 剩餘本金 × 月利率
月付金 = 月付本金 + 月付利息
```

## 使用說明

1. **選擇輸入模式**
   - 房屋總價：輸入房價和貸款成數
   - 貸款金額：直接輸入貸款金額

2. **設定貸款條件**
   - 輸入貸款年限（一般最長30年，新青安最長40年）
   - 選擇貸款方案（新青安或自訂利率）
   - 選擇還款方式

3. **查看計算結果**
   - 平均月付金額
   - 總支付金額
   - 利息總額
   - 詳細還款明細表（可切換月度/年度檢視）

## 注意事項

- 本試算結果僅供參考，實際貸款條件以各銀行核定為準
- 利率可能隨央行政策調整
- 提前還款可能有違約金
- 需要提供相關財力證明

## 瀏覽器支援

- Chrome（最新兩個版本）
- Firefox（最新兩個版本）
- Safari（最新兩個版本）
- Edge（最新兩個版本）

## 授權

MIT License